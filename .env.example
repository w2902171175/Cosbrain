# ================================
# JWT 认证配置
# ================================
# JWT令牌签名密钥 - 用于生成和验证JWT令牌的安全密钥
# 警告: 生产环境必须使用强随机密钥，且不可泄露
SECRET_KEY="your_jwt_secret_key_here"

# JWT加密算法 - 推荐使用HS256或RS256
ALGORITHM=HS256

# 访问令牌过期时间(分钟) - 建议生产环境设置较短时间提高安全性
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ================================
# 系统加密配置
# ================================
# 系统级加密密钥 - 用于加密API密钥、敏感数据等
# 注意: 此密钥丢失将导致所有加密数据无法解密
ENCRYPTION_KEY="your_base64_encryption_key_here"

# ================================
# PostgreSQL 数据库配置
# ================================
# 数据库连接URL - 格式: postgresql+psycopg2://用户名:密码@主机:端口/数据库名
# 请替换为你的实际数据库连接信息
DATABASE_URL=postgresql+psycopg2://username:password@localhost:5432/database_name

# ================================
# SQLAlchemy 连接池与性能配置
# ================================
# 是否在控制台输出SQL语句 - 开发环境可设为true，生产环境建议false
SQL_ECHO=false

# 连接池大小 - 同时保持的数据库连接数
SQL_POOL_SIZE=10

# 连接池溢出数量 - 超过pool_size时允许的额外连接数
SQL_MAX_OVERFLOW=20

# 连接超时时间(秒) - 获取连接的最大等待时间
SQL_POOL_TIMEOUT=30

# 连接回收时间(秒) - 连接在池中的最长存活时间，防止长时间连接断开
SQL_POOL_RECYCLE=3600

# ================================
# 阿里云OSS存储配置 (已禁用)
# ================================
# 以下配置已注释禁用，当前使用Cloudflare R2作为主要存储
# # 阿里云访问密钥ID
# OSS_ACCESS_KEY_ID="your_aliyun_access_key_id"
# # 阿里云访问密钥Secret
# OSS_ACCESS_KEY_SECRET="your_aliyun_access_key_secret"
# # 阿里云OSS服务端点 - 广州地域
# OSS_ENDPOINT="oss-cn-guangzhou.aliyuncs.com"
# # OSS存储桶名称
# OSS_BUCKET_NAME="your_bucket_name"
# # OSS公网访问基础URL
# OSS_BASE_URL="https://your_bucket_name.oss-cn-guangzhou.aliyuncs.com"

# ================================
# Cloudflare R2 对象存储配置 (当前使用)
# ================================
# Cloudflare R2访问密钥ID - 类似AWS S3的Access Key
S3_ACCESS_KEY_ID="your_cloudflare_r2_access_key_id"

# Cloudflare R2访问密钥Secret - 类似AWS S3的Secret Key  
S3_SECRET_ACCESS_KEY="your_cloudflare_r2_secret_access_key"

# Cloudflare R2服务端点URL - R2兼容S3 API
S3_ENDPOINT_URL="https://your_account_id.r2.cloudflarestorage.com"

# R2存储桶名称
S3_BUCKET_NAME="your_bucket_name"

# R2服务区域 - 亚太地区
S3_REGION="apac"

# R2公网访问基础URL - 通过自定义域名访问
S3_BASE_URL="https://your_domain.com"

# ================================
# Redis 缓存配置
# ================================
# Redis连接URL - 格式: redis://主机:端口/数据库编号
# 默认连接本地Redis服务器的0号数据库
REDIS_URL=redis://localhost:6379/0

# 是否启用Redis缓存 - 设为false将禁用所有缓存功能
ENABLE_REDIS=true

# 缓存默认过期时间(秒) - 1小时，超时后缓存自动失效
CACHE_DEFAULT_EXPIRE=3600

# 是否启用缓存数据压缩 - 可减少内存使用，但会增加CPU开销
CACHE_ENABLE_COMPRESSION=true

# 缓存压缩阈值(字节) - 只有超过此大小的数据才会被压缩
CACHE_COMPRESSION_THRESHOLD=1024

# 缓存最大内存大小(MB) - 超过此限制时会清理旧缓存
CACHE_MAX_MEMORY_SIZE=1000

# ================================
# 文件上传安全配置
# ================================
# 最大文件大小限制(字节) - 100MB，防止过大文件占用服务器资源
MAX_FILE_SIZE=104857600

# 允许的文件类型 - 限制上传文件类型，提高安全性
# 支持: images(图片), documents(文档), videos(视频), audio(音频)
ALLOWED_FILE_TYPES=images,documents,videos,audio

# 是否启用病毒扫描 - 需要安装ClamAV病毒扫描引擎
ENABLE_VIRUS_SCAN=false

# 是否启用YARA规则扫描 - 需要配置YARA恶意软件检测规则
ENABLE_YARA_SCAN=false

# 隔离文件存放路径 - 检测到威胁的文件将移动到此目录
QUARANTINE_PATH=/tmp/quarantine

# 是否启用文件签名检查 - 验证文件格式与扩展名是否匹配
ENABLE_FILE_SIGNATURE_CHECK=true

# ================================
# 用户输入内容安全配置
# ================================
# 最大内容长度(字符) - 限制帖子、评论等内容的最大字符数
MAX_CONTENT_LENGTH=50000

# 标题最大长度(字符) - 防止过长标题影响页面布局
MAX_TITLE_LENGTH=200

# 标题最小长度(字符) - 确保标题有意义
MIN_TITLE_LENGTH=5

# 用户名最大长度(字符) - 限制用户名长度
MAX_USERNAME_LENGTH=20

# 用户名最小长度(字符) - 确保用户名不会过短
MIN_USERNAME_LENGTH=2

# 是否启用AI内容检测 - 使用AI模型检测不当内容(需要AI服务)
ENABLE_AI_DETECTION=false

# 是否启用语言检测 - 自动检测内容语言类型
ENABLE_LANGUAGE_DETECTION=true

# 是否启用情感分析 - 分析内容情感倾向(需要AI服务)
ENABLE_SENTIMENT_ANALYSIS=false

# 是否启用高级XSS防护 - 深度检测跨站脚本攻击
ENABLE_ADVANCED_XSS=true

# 是否启用Unicode标准化 - 规范化Unicode字符，防止同形字攻击
ENABLE_UNICODE_NORM=true

# ================================
# 应用运行环境配置
# ================================
# 运行环境 - development(开发), staging(测试), production(生产)
# 影响错误信息显示、调试功能等
ENVIRONMENT=production

# 调试模式 - 生产环境应设为false，开发环境可设为true
# 启用时会显示详细错误信息和调试面板
DEBUG=false

# 日志记录级别 - DEBUG < INFO < WARNING < ERROR < CRITICAL
# 生产环境建议使用INFO或WARNING
LOG_LEVEL=INFO

# ================================
# 系统安全配置
# ================================
# 是否启用API访问频率限制 - 防止恶意请求和DDoS攻击
ENABLE_RATE_LIMITING=True

# 是否启用内容审核 - 自动审核用户发布的内容
ENABLE_CONTENT_MODERATION=True

# 是否启用XSS跨站脚本防护 - 防止恶意脚本注入
ENABLE_XSS_PROTECTION=True

# ================================
# 系统增强功能模块配置
# ================================
# 是否启用分布式处理 - 支持多服务器协同处理任务
ENABLE_DISTRIBUTED_PROCESSING=true

# 是否启用安全扫描器 - 定期扫描系统安全漏洞
ENABLE_SECURITY_SCANNER=true

# 是否启用智能推荐系统 - AI驱动的内容推荐功能
ENABLE_INTELLIGENT_RECOMMENDATION=true

# 是否启用监控告警 - 系统异常时自动发送告警通知
ENABLE_MONITORING_ALERTING=true
