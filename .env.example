# -------- Application --------
PRODUCTION=true
HOST=0.0.0.0
PORT=8001

# JWT/Auth (adjust to your secure values)
SECRET_KEY=please_change_me
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# -------- Database (Docker) --------
POSTGRES_DB=cosbrain
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=db
POSTGRES_PORT=5432

# SQLAlchemy connection string (will be auto-built if not set)
# DATABASE_URL=postgresql+psycopg2://postgres:postgres@db:5432/cosbrain

# SQLAlchemy tuning
SQL_ECHO=false
SQL_POOL_SIZE=10
SQL_MAX_OVERFLOW=20
SQL_POOL_TIMEOUT=30
SQL_POOL_RECYCLE=3600

# -------- Redis --------
ENABLE_REDIS=true
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=

# -------- YARA --------
ENABLE_YARA_SCAN=true
YARA_RULES_PATH=/app/yara/rules/rules.yar
YARA_OUTPUT_DIR=/app/yara/output

# -------- Optional behaviors --------
# Drop and recreate tables on app startup (dangerous in production)
RUN_DB_INIT=false

# -------- OSS / S3-compatible storage --------
# Use one of the following configurations.

## 1) Local MinIO (docker-compose minio service)
#MINIO_ROOT_USER=minioadmin
#MINIO_ROOT_PASSWORD=minioadmin
#S3_ACCESS_KEY_ID=minioadmin
#S3_SECRET_ACCESS_KEY=minioadmin
#S3_ENDPOINT_URL=http://minio:9000
#S3_BUCKET_NAME=cosbrain
#S3_REGION=us-east-1
#S3_BASE_URL=http://localhost:9000/cosbrain
#S3_ADDRESSING_STYLE=path
#S3_VERIFY_SSL=false

## 2) Cloudflare R2 example
#S3_ACCESS_KEY_ID=your_r2_access_key
#S3_SECRET_ACCESS_KEY=your_r2_secret
#S3_ENDPOINT_URL=https://<accountid>.r2.cloudflarestorage.com
#S3_BUCKET_NAME=cosbrain
#S3_REGION=auto
#S3_BASE_URL=https://cdn.example.com    # Public CDN/worker mapped domain
#S3_ADDRESSING_STYLE=virtual
#S3_VERIFY_SSL=true

## 3) Aliyun OSS example (via S3-compatible API)
#OSS_ACCESS_KEY_ID=xxx
#OSS_ACCESS_KEY_SECRET=xxx
#OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com
#OSS_BUCKET_NAME=cosbrain
#OSS_BASE_URL=https://cosbrain.oss-cn-hangzhou.aliyuncs.com
#S3_ADDRESSING_STYLE=virtual
#S3_VERIFY_SSL=true
